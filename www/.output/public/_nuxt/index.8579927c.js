import{q as m,_ as C,o as s,r as i,w as t,b as r,v as V,c as p,F as _,d as u,t as d,a as n,V as P,x as k,s as x,y as g,z as I}from"./entry.923c65f1.js";import{V as z,a as F,b as j,c as E,S as T,d as B,e as v}from"./structHelper.5e099204.js";import{V as L,u as $}from"./index.2c3ed4d0.js";import{V as M,a as H}from"./VList.be7de0bf.js";import{V as b,a as h}from"./VRow.7278c7be.js";import{u as N}from"./index.0bcb5687.js";import{u as R}from"./vue.f36acd1f.d7b73d7d.js";import"./VAvatar.d9eede9b.js";/* empty css              */const D=function(e){return e=e&&e!="null"&&e!="undefined"?e+"₽":"",e=e.replace(/ /g,""),e.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")},O=function(e){return e=e&&e!="null"&&e!="undefined"?e:"",e=e.replace(/ /g,""),e.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")},A=Object.freeze(Object.defineProperty({__proto__:null,convertMoneyType:D,convertMoneyTypeWithoutRuble:O},Symbol.toStringTag,{value:"Module"})),W=m({props:{productItem:{type:Object,required:!0}},emits:{},computed:{},data(){return{ShopHelper:A}},methods:{},components:{}}),q={class:"text-subtitle-1"},U={class:"d-flex align-center justify-end text-end"},Y={class:"text-error"};function G(e,o,y,f,w,S){return s(),i(E,{class:"pa-0 h-100 d-flex flex-column",color:"#FFF"},{default:t(()=>{var a;return[r(z,{class:V({"pa-0":(a=e.productItem.images)==null?void 0:a.img1})},{default:t(()=>{var c,l;return[(c=e.productItem.images)!=null&&c.img1?(s(),i(L,{key:1,height:100,width:"auto","aspect-ratio":"28/1",cover:"",src:(l=e.productItem.images)==null?void 0:l.img1},null,8,["src"])):(s(),p(_,{key:0},[u(d(e.productItem.title),1)],64))]}),_:1},8,["class"]),r(F,{class:"pt-2"},{default:t(()=>[n("h1",q,d(e.productItem.title),1),r(M,null,{default:t(()=>[r(H,{class:"pl-0"},{default:t(()=>[r(b,null,{default:t(()=>[r(h,{class:"text-subtitle-1",cols:"6"},{default:t(()=>[u("В наличии:")]),_:1}),r(h,{cols:"6"},{default:t(()=>[u(d(e.productItem.stock),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),r(j,{class:"d-flex justify-space-between"},{default:t(()=>[n("div",null,[r(P,{color:"primary"},{default:t(()=>[u("Купить")]),_:1}),r(P,{color:"secondary"},{default:t(()=>[u("Подробнее")]),_:1})]),n("div",U,[n("span",Y,d(e.ShopHelper.convertMoneyTypeWithoutRuble(String(e.productItem.price))+" руб."),1)])]),_:1})]}),_:1})}const J=C(W,[["render",G]]),K=m({emits:{},computed:{currectCell(){return this.$vuetify.display.width>2100?{cells:6,size:2}:this.$vuetify.display.width>1800?{cells:4,size:3}:this.$vuetify.display.width>1024?{cells:3,size:4}:this.$vuetify.display.width>800?{cells:2,size:6}:this.$vuetify.display.width>500?{cells:1,size:12}:{cells:1,size:12}},getParsingProducts(){return this.ParserProducts.getParserProducts}},data(){return{StructHelper:T,ParserProducts:$(),runtimeConfig:k(),values:[{img:"https://drive.google.com/uc?export=view&id=1txxr0YFoCnjr9nmpxpRFMCGiL2FtrBO9",title:"Кофе"},{img:"https://drive.google.com/uc?export=view&id=1E0Nbjj4lkc7bYkIUrDotkIPei03vfUFy",title:"Выпечка"}]}},methods:{},components:{}});function Q(e,o,y,f,w,S){const a=J;return s(),i(B,{class:"pa-10",height:e.runtimeConfig.public.heightWindow,items:e.StructHelper.chunk(e.getParsingProducts,e.currectCell.cells)},{default:t(({item:c})=>[r(b,null,{default:t(()=>[(s(!0),p(_,null,x(c,l=>(s(),i(h,{cols:e.currectCell.size},{default:t(()=>[r(a,{"product-item":l},null,8,["product-item"])]),_:2},1032,["cols"]))),256))]),_:2},1024)]),_:1},8,["height","items"])}const X=C(K,[["render",Q]]),Z=m({props:{},emits:{},computed:{},data(){return{currectTab:"",menuStore:N(),parsingProducts:$()}},methods:{},components:{},created(){this.menuStore.getCurrectCategory||this.$nuxt.$router.replace({path:"/"}),this.parsingProducts.setParserProducts(this.parsingProducts,{page:1,category:this.menuStore.getCurrectCategory})}}),ce=m({...Z,__name:"index",setup(e){return R({title:"Каталог"}),(o,y)=>{const f=X;return s(),p(_,null,[o.parsingProducts.getLoading||o.parsingProducts.getError?(s(),p("div",{key:0,class:V(["h-screen w-screen d-flex justify-center",{"align-center":!o.parsingProducts.getError}])},[o.parsingProducts.getLoading&&!o.parsingProducts.getError?(s(),i(I,{key:0,indeterminate:"",size:58,width:8,color:"primary"})):g("",!0),o.parsingProducts.getError?(s(),i(v,{key:1,"max-height":"100px",type:"error",rounded:"0",title:"Ошибка",text:"Произошла ошибка загрузки"})):g("",!0)],2)):g("",!0),n("template",null,[r(f)])],64)}}});export{ce as default};
